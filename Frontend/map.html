<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Travel.Co - POI Map</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
    <link href='https://unpkg.com/css.gg@2.0.0/icons/all.css' rel='stylesheet'>
    <link rel="stylesheet" href="./Css/map.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.min.js"></script>
    <script type='module' src="./JavaScript/map.js"></script>
</head>

<body>
    <!-- Header / Navigation -->
    <header class="header">
        <div class="nav-container">
            <div class="nav-left">
                <div class="logo"><i class="gg-airplane"></i> Travel.Co</div>
            </div>
            <nav class="nav-center">
                <ul class="nav-menu">
                    <li><a href="home.html">Home</a></li>
                    <li><a href="map.html" class="active">Map</a></li>
                    <li><a href="booking.html">Self Booking</a></li>
                    <li><a href="planItinerary.html">Trip Planner</a></li>
                </ul>
            </nav>
            <div class="nav-right">
                <!-- Wishlist/Interests Icon (replaced cart) -->
                <a href="wishlist.html" class="wishlist-icon-wrapper" id="wishlistIconWrapper" title="My Interests">
                    <i class="fa fa-heart"></i>
                </a>
                
                <div class="user-profile">
                    <div class="profile-dropdown" id="profileDropdown">
                        <div class="profile-trigger">
                            <div class="profile-avatar" id="profileAvatarInitials"></div>
                            <span class="profile-name" id="profileName"></span>
                        </div>
                        <div class="dropdown-menu">
                            <a href="profile.html" class="dropdown-item">
                                <i class="fa fa-user dropdown-icon"></i>
                                Profile
                            </a>
                            <a href="#logout" class="dropdown-item logout" id="logoutButton">
                                <i class="fa fa-sign-out-alt dropdown-icon"></i>
                                Logout
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main-content">
        <!-- LEFT SIDEBAR - POI LIST -->
        <aside class="google-sidebar" id="googleSidebar">
            <div class="sidebar-content">
                <!-- Results Section -->
                <div class="sidebar-section">
                    <div class="sidebar-header">
                        <i class="fas fa-search"></i>
                        <h3>Results</h3>
                    </div>
                    <div id="poiSidebarList" class="recents-list">
                        <p class="empty-message">Search or select a category to see results</p>
                    </div>
                </div>
            </div>
        </aside>

        <!-- Map Container (Full Width) -->
        <section class="map-wrapper">
            <!-- Search Bar Overlay -->
            <div class="map-search-bar">
                <button class="menu-toggle" id="menuToggle">
                    <i class="fas fa-bars"></i>
                </button>
                <div class="search-input-wrapper">
                    <i class="fas fa-search"></i>
                    <input type="text" id="mapSearch" placeholder="Search Maps" />
                </div>
            </div>

            <!-- Category Pills -->
            <div class="category-pills" id="categoryPills">
                <button class="pill" data-category="cafe">
                    <i class="fas fa-coffee"></i> Cafe
                </button>
                <button class="pill" data-category="tourist_attraction">
                    <i class="fas fa-camera"></i> Attraction
                </button>
                <button class="pill" data-category="museum">
                    <i class="fas fa-building"></i> Museum
                </button>
                <button class="pill" data-category="park">
                    <i class="fas fa-tree"></i> Park
                </button>
                <button class="pill" data-category="gym">
                    <i class="fas fa-dumbbell"></i> Gym
                </button>
                <button class="pill" data-category="shopping_mall">
                    <i class="fas fa-shopping-bag"></i> Shopping
                </button>
            </div>

            <!-- Map -->
            <div id="map"></div>

            <!-- Location Button -->
            <button class="location-btn" id="locationBtn">
                <i class="fas fa-crosshairs"></i>
            </button>

            <!-- Zoom Controls -->
            <div class="zoom-controls">
                <button class="zoom-btn" id="zoomIn"><i class="fas fa-plus"></i></button>
                <button class="zoom-btn" id="zoomOut"><i class="fas fa-minus"></i></button>
            </div>
        </section>
    </main>

    <!-- POI PREVIEW CARD (HOVER) -->
    <div class="poi-preview-card" id="poiPreviewCard">
        <div class="poi-preview-image" id="previewImage">
            <img src="" alt="POI" id="previewImageImg">
        </div>
        <div class="poi-preview-content">
            <div class="poi-preview-name" id="previewName"></div>
            <div class="poi-preview-rating" id="previewRating"></div>
            <div class="poi-preview-address" id="previewAddress"></div>
            <div class="poi-preview-type" id="previewType"></div>
        </div>
    </div>

    <!-- POI DETAIL MODAL - GOOGLE MAPS STYLE -->
    <div class="poi-modal" id="poiModal">
        <div class="poi-modal-content">
            <button class="modal-close" id="modalClose">
                <i class="fas fa-times"></i>
            </button>

            <!-- Image -->
            <div class="modal-image" id="modalImage">
                <img src="" alt="POI" id="modalImageImg">
            </div>

            <!-- Header Section -->
            <div class="modal-header">
                <div class="header-top">
                    <h2 id="modalName"></h2>
                    <div class="rating-section">
                        <span id="modalRating" class="rating">‚≠ê N/A</span>
                        <span id="modalReviews" class="reviews">(0 reviews)</span>
                    </div>
                </div>
                <p id="modalCategory" class="category-badge"></p>
            </div>

            <!-- Tabs -->
            <div class="modal-tabs">
                <button class="tab-btn active" data-tab="overview">
                    <i class="fas fa-info-circle"></i> Overview
                </button>
                <button class="tab-btn" data-tab="reviews">
                    <i class="fas fa-comments"></i> Reviews
                </button>
                <button class="tab-btn" data-tab="about">
                    <i class="fas fa-book"></i> About
                </button>
            </div>

            <!-- Quick Actions -->
            <div class="quick-actions">
                <button class="quick-action-btn" id="directionsBtn">
                    <i class="fas fa-compass"></i>
                    <span>Directions</span>
                </button>
                <button class="quick-action-btn" id="saveBtn">
                    <i class="fas fa-bookmark"></i>
                    <span>Save</span>
                </button>
                <button class="quick-action-btn" id="nearbyBtn">
                    <i class="fas fa-location-dot"></i>
                    <span>Nearby</span>
                </button>
                <button class="quick-action-btn" id="shareBtn">
                    <i class="fas fa-share-alt"></i>
                    <span>Share</span>
                </button>
            </div>

            <!-- Overview Tab -->
            <div class="tab-content active" id="overview-tab">
                <!-- Address -->
                <div class="info-section">
                    <div class="info-item">
                        <i class="fas fa-map-marker-alt"></i>
                        <span id="modalAddress"></span>
                    </div>
                </div>

                <!-- Phone -->
                <div class="info-section" id="phoneSection" style="display: none;">
                    <div class="info-item">
                        <i class="fas fa-phone"></i>
                        <a href="tel:" id="modalPhoneLink"></a>
                    </div>
                </div>

                <!-- Hours -->
                <div class="info-section" id="hoursSection" style="display: none;">
                    <div class="info-item">
                        <i class="fas fa-clock"></i>
                        <div>
                            <div id="modalHoursStatus" class="hours-status"></div>
                            <div id="modalHours" class="hours-detail"></div>
                        </div>
                    </div>
                </div>

                <!-- Website -->
                <div class="info-section" id="websiteSection" style="display: none;">
                    <div class="info-item">
                        <i class="fas fa-globe"></i>
                        <a href="" target="_blank" id="websiteLink" class="website-link"></a>
                    </div>
                </div>

                <!-- Distance -->
                <div class="info-section">
                    <div class="info-item">
                        <i class="fas fa-route"></i>
                        <span id="modalDistance"></span>
                    </div>
                </div>
            </div>

            <!-- Reviews Tab -->
            <div class="tab-content" id="reviews-tab">
                <div id="reviewsContainer" class="reviews-container">
                    <p class="empty-message">No reviews available</p>
                </div>
            </div>

            <!-- About Tab -->
            <div class="tab-content" id="about-tab">
                <div id="aboutContainer" class="about-container">
                    <p class="empty-message">No additional information available</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Loading Overlay -->
    <div id="loadingOverlay" class="loading-overlay">
        <div class="spinner"></div>
    </div>
</body>

</html>
